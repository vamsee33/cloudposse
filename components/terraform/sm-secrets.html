

### ðŸ“˜ Overview

AWS Secrets Manager (SM) is used to securely store sensitive values such as passwords, API keys, and credentials.

---

### âš™ï¸ Creating SM Secrets using Atmos

* **Terraform component location**:
  `components/terraform/secrets-manager/driveclient`

* **Stack reference example**:

```yaml
import:
  - orgs/dwt/dev/data/_defaults
  - mixins/region/us-east-1

components:
  terraform:
    secrets-manager/driveclient:
      metadata:
        component: secrets-manager
      vars:
        secret_names:
          - driveclient/app/auth-secrets
          - driveclient/app/database-secrets
```

> ðŸ“ **Note**: This creates the **secret names** in AWS Secrets Manager.
> You must manually add the **secret values** in the AWS Console or using the AWS CLI.

---

### ðŸ“¥ Accessing SM Secrets in EC2 (AWS CLI)

Use these commands on your EC2 instance to retrieve secret values:

```bash
aws secretsmanager get-secret-value \
  --secret-id driveclient/app/auth-secrets \
  --query SecretString \
  --output text
```

If your secret contains a JSON object and you want a specific field:

```bash
aws secretsmanager get-secret-value \
  --secret-id driveclient/app/auth-secrets \
  --query SecretString \
  --output text | jq -r '.your_field_name'
```

